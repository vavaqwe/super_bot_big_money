# üîß –ó–≤—ñ—Ç –ø—Ä–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º–∏ –∑ USDT/USDC —Ü—ñ–Ω–∞–º–∏

## –ü—Ä–æ–±–ª–µ–º–∞
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–æ–≤—ñ–¥–æ–º–∏–≤ –ø—Ä–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–µ –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è —Ü—ñ–Ω –¥–ª—è –¥–µ—è–∫–∏—Ö —Å–∏–º–≤–æ–ª—ñ–≤, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ BCH:

```
2025-11-19 21:51:58,419 - INFO - [BCH] XT: $486.080000 | Dex: $563.840000 | –°–ø—Ä–µ–¥: 13.73% LONG | –¢–æ—Ä–≥—É—î–º–æ –Ω–∞: XT
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–∞ –±—ñ—Ä–∂—ñ XT –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ø–∞—Ä–∞ BCH/USDT, –∞ –∑ DexScreener –±—Ä–∞–ª–∞—Å—è —Ü—ñ–Ω–∞ BCH/USDC –∑ –±—ñ–ª—å—à–æ—é –ª—ñ–∫–≤—ñ–¥–Ω—ñ—Å—Ç—é, –∞–ª–µ –∑ –∞–Ω–æ–º–∞–ª—å–Ω–æ—é —Ü—ñ–Ω–æ—é.

## –ê–Ω–∞–ª—ñ–∑

### –ó–Ω–∞–π–¥–µ–Ω—ñ –ø–∞—Ä–∏ BCH:

1. **BCH/USDT** –Ω–∞ BSC (Uniswap):
   - –¶—ñ–Ω–∞: **$484.85**
   - –õ—ñ–∫–≤—ñ–¥–Ω—ñ—Å—Ç—å: $40,095
   - –û–±—Å—è–≥ 24–≥: $3,638

2. **BCH/USDC** –Ω–∞ Solana (Raydium):
   - –¶—ñ–Ω–∞: **$563.84** ‚¨ÖÔ∏è **–ê–Ω–æ–º–∞–ª—å–Ω–æ –≤–∏—Å–æ–∫–∞!**
   - –õ—ñ–∫–≤—ñ–¥–Ω—ñ—Å—Ç—å: $17,702,077
   - –û–±—Å—è–≥ 24–≥: $60,085

3. **BCH/WBNB** –Ω–∞ BSC (PancakeSwap):
   - –¶—ñ–Ω–∞: $477.15
   - –õ—ñ–∫–≤—ñ–¥–Ω—ñ—Å—Ç—å: $66,860
   - –û–±—Å—è–≥ 24–≥: $14,176

### –ü—Ä–æ–±–ª–µ–º–∏ –≤ –∫–æ–¥—ñ:

1. **Hardcoded quote_symbol** (—Ä—è–¥–æ–∫ 635 –≤ dex_client.py):
   ```python
   'quote_symbol': 'USDT'  # –ë—É–ª–æ –∑–∞—Ö–∞—Ä–¥–∫–æ–¥–∂–µ–Ω–æ
   ```

2. **–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –ø—Ä—ñ–æ—Ä–∏—Ç–∏–∑–∞—Ü—ñ—ó** USDT –ø–∞—Ä –Ω–∞–¥ USDC

3. **–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∞–Ω–æ–º–∞–ª—å–Ω–∏—Ö —Ü—ñ–Ω** –º—ñ–∂ USDT —ñ USDC –ø–∞—Ä–∞–º–∏

## –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

### 1. –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ quote_symbol –∑ API

**–§–∞–π–ª:** `/app/dex_client.py`, —Ä—è–¥–æ–∫ 658

```python
quote_symbol = pair.get('quoteToken', {}).get('symbol', 'USDT').upper()
```

### 2. –ü—Ä—ñ–æ—Ä–∏—Ç–∏–∑–∞—Ü—ñ—è –ø–∞—Ä –∑–∞ quote –≤–∞–ª—é—Ç–æ—é

**–§–∞–π–ª:** `/app/dex_client.py`, —Ä—è–¥–∫–∏ 593-651

–î–æ–¥–∞–Ω–æ –ª–æ–≥—ñ–∫—É:
- –°–ø–æ—á–∞—Ç–∫—É –≤—Å—ñ –ø–∞—Ä–∏ —Ä–æ–∑–¥—ñ–ª—è—é—Ç—å—Å—è –Ω–∞ USDT, USDC —Ç–∞ —ñ–Ω—à—ñ
- –ö–æ–∂–Ω–∞ –≥—Ä—É–ø–∞ —Å–æ—Ä—Ç—É—î—Ç—å—Å—è –∑–∞ –ª—ñ–∫–≤—ñ–¥–Ω—ñ—Å—Ç—é
- –§–æ—Ä–º—É—î—Ç—å—Å—è –ø—Ä—ñ–æ—Ä–∏—Ç–∏–∑–æ–≤–∞–Ω–∏–π —Å–ø–∏—Å–æ–∫: **USDT ‚Üí USDC ‚Üí —ñ–Ω—à—ñ**

```python
# –†–æ–∑–¥—ñ–ª—è—î–º–æ –ø–∞—Ä–∏ –ø–æ quote –≤–∞–ª—é—Ç—ñ
usdt_pairs = []
usdc_pairs = []
other_pairs = []

for p in filtered_pairs[:20]:
    quote_symbol = p.get('quoteToken', {}).get('symbol', '').upper()
    if quote_symbol == 'USDT':
        usdt_pairs.append(p)
    elif quote_symbol == 'USDC':
        usdc_pairs.append(p)
    else:
        other_pairs.append(p)
```

### 3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∞–Ω–æ–º–∞–ª—å–Ω–∏—Ö —Ü—ñ–Ω

**–§–∞–π–ª:** `/app/dex_client.py`, —Ä—è–¥–∫–∏ 619-645

–î–æ–¥–∞–Ω–æ –ª–æ–≥—ñ–∫—É –≤–∏—è–≤–ª–µ–Ω–Ω—è –∞–Ω–æ–º–∞–ª—ñ–π:
- –Ø–∫—â–æ —Ä—ñ–∑–Ω–∏—Ü—è —Ü—ñ–Ω –º—ñ–∂ USDT —ñ USDC –±—ñ–ª—å—à–∞ 5% ‚Üí –∞–Ω–æ–º–∞–ª—ñ—è
- USDT —ñ USDC –ø–æ–≤–∏–Ω–Ω—ñ –º–∞—Ç–∏ –ø—Ä–∏–±–ª–∏–∑–Ω–æ —Ä—ñ–≤–Ω—ñ —Ü—ñ–Ω–∏ (1 USDT ‚âà 1 USDC)
- –ü—Ä–∏ –∞–Ω–æ–º–∞–ª—ñ—ó: —è–∫—â–æ USDT –ø–∞—Ä–∞ –º–∞—î –ª—ñ–∫–≤—ñ–¥–Ω—ñ—Å—Ç—å ‚â•$10k, –≤–æ–Ω–∞ –º–∞—î –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç
- –í–∏–¥–∞–ª—è—é—Ç—å—Å—è USDC —Ç–∞ —ñ–Ω—à—ñ –ø–∞—Ä–∏ –∑—ñ —Å–ø–∏—Å–∫—É

```python
if price_diff_pct > 5.0:
    usdt_liquidity = float(usdt_pairs_sorted[0].get('liquidity', {}).get('usd', 0))
    usdc_liquidity = float(usdc_pairs_sorted[0].get('liquidity', {}).get('usd', 0))
    
    if usdt_liquidity >= 10000:
        # –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –¢–Ü–õ–¨–ö–ò USDT –ø–∞—Ä—É
        usdc_pairs_sorted = []
        other_pairs_sorted = []
        price_anomaly_detected = True
```

### 4. –ó–Ω–∏–∂–µ–Ω—ñ —Ñ—ñ–ª—å—Ç—Ä–∏ –¥–ª—è USDT –ø–∞—Ä –ø—Ä–∏ –∞–Ω–æ–º–∞–ª—ñ—ó

**–§–∞–π–ª:** `/app/dex_client.py`, —Ä—è–¥–∫–∏ 676-684

–ü—Ä–∏ –≤–∏—è–≤–ª–µ–Ω–Ω—ñ –∞–Ω–æ–º–∞–ª—ñ—ó —Ü—ñ–Ω, –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –æ–±—Å—è–≥ –¥–ª—è USDT –ø–∞—Ä –∑–Ω–∏–∂–µ–Ω–æ –∑ $5k –¥–æ $1k:

```python
if price_anomaly_detected and quote_symbol == 'USDT':
    min_liquidity = 10000  # $10k
    min_volume = 1000      # $1k (–∑–Ω–∏–∂–µ–Ω–æ –∑ $5k)
else:
    min_liquidity = 2000
    min_volume = 5000
```

### 5. –ü–æ–∫—Ä–∞—â–µ–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è

**–§–∞–π–ª:** `/app/bot.py`, —Ä—è–¥–∫–∏ 1565-1611

–î–æ–¥–∞–Ω–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è quote –≤–∞–ª—é—Ç–∏ –≤ –ª–æ–≥–∞—Ö:

```python
dex_quote = token_info.get('quote_symbol', 'USDT')
log_info = f"XT: ${xt_price:.6f} (USDT) | Dex: ${dex_price:.6f} ({dex_quote}) | –°–ø—Ä–µ–¥: {best_spread:.2f}% {best_direction}"
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –î–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:
```
[BCH] XT: $486.08 | Dex: $563.84 (USDC) | –°–ø—Ä–µ–¥: 13.73% LONG
```

### –ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:
```
[BCH] XT: $486.08 | Dex: $484.85 (USDT) | –°–ø—Ä–µ–¥: ~0.25% 
```

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —ñ–Ω—à–∏—Ö —Ç–æ–∫–µ–Ω—ñ–≤:

‚úÖ **ETH** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∏–±—Ä–∞–Ω–∞ ETH/USDT ($2,979)
‚úÖ **SOL** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∏–±—Ä–∞–Ω–∞ SOL/USDT ($135)
‚úÖ **BTC** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∏–±—Ä–∞–Ω–∞ BTC/USD ($90,435) –∑ CoinGecko

## –õ–æ–≥—É–≤–∞–Ω–Ω—è –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ

–¢–µ–ø–µ—Ä —Å–∏—Å—Ç–µ–º–∞ –≤–∏–≤–æ–¥–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é:

```
‚ö†Ô∏è BCH: –ê–Ω–æ–º–∞–ª—ñ—è —Ü—ñ–Ω USDT=$484.85 vs USDC=$563.84 (—Ä—ñ–∑–Ω–∏—Ü—è 16.3%)
   USDT –ª—ñ–∫–≤—ñ–¥–Ω—ñ—Å—Ç—å: $40,095 | USDC –ª—ñ–∫–≤—ñ–¥–Ω—ñ—Å—Ç—å: $17,702,077
‚úÖ BCH: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –¢–Ü–õ–¨–ö–ò USDT –ø–∞—Ä—É —á–µ—Ä–µ–∑ –∞–Ω–æ–º–∞–ª—ñ—é —Ü—ñ–Ω (–ª—ñ–∫–≤—ñ–¥–Ω—ñ—Å—Ç—å –¥–æ—Å—Ç–∞—Ç–Ω—è)
üîç BCH: –ó–Ω–∞–π–¥–µ–Ω–æ –ø–∞—Ä - USDT: 3, USDC: 1, –Ü–Ω—à—ñ: 12
üîÑ BCH: DexScreener SUCCESS BCH/USDT P=$484.850000 L=$40,095 V=$3,638
```

## –í–∏—Å–Ω–æ–≤–æ–∫

‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–∞
‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä—ñ–æ—Ä–∏—Ç–∏–∑—É—î USDT –ø–∞—Ä–∏
‚úÖ –í–∏—è–≤–ª—è—î —Ç–∞ –æ–±—Ä–æ–±–ª—è—î –∞–Ω–æ–º–∞–ª—å–Ω—ñ —Ü—ñ–Ω–∏ –º—ñ–∂ USDT/USDC
‚úÖ –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
‚úÖ –°–ø—Ä–µ–¥–∏ —Ç–µ–ø–µ—Ä —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—é—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ

## –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

**–ó–º—ñ–Ω–µ–Ω—ñ —Ñ–∞–π–ª–∏:**
- `/app/dex_client.py` - –æ—Å–Ω–æ–≤–Ω–∞ –ª–æ–≥—ñ–∫–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è
- `/app/bot.py` - –ø–æ–∫—Ä–∞—â–µ–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è

**–¢–µ—Å—Ç–æ–≤—ñ —Å–∫—Ä–∏–ø—Ç–∏:**
- `/app/test_quote_fix.py` - –±–∞–∑–æ–≤–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- `/app/test_bch_detailed.py` - –¥–µ—Ç–∞–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ BCH –ø–∞—Ä
